<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyD_ZTXQCIDsJcQ8I_2QzGyyYFQrkPlnfaE",
    authDomain: "taeyang-taekwondo.firebaseapp.com",
    projectId: "taeyang-taekwondo",
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const alumnoId = localStorage.getItem("alumnoId");

  if (!alumnoId) {
    window.location.href = "login.html";
  }

  const alumnoRef = doc(db, "Alumnos", alumnoId);
  const alumnoSnap = await getDoc(alumnoRef);

  if (alumnoSnap.exists()) {
    const alumno = alumnoSnap.data();

    document.getElementById("perfilCard").innerHTML = `
      <img src="fotos/${alumno.fotoURL}">
      <h3>${alumno.nombre}</h3>
      <p><strong>Estado de pago:</strong> ${alumno.pago}</p>
      <p><strong>Pr√≥ximo pago:</strong> ${alumno.proximoPago}</p>
    `;
  }
</script>

